<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单例模式</title>
</head>
<body>
    <p>
        顾名思义，单例模式中Class的实例个数最多为1。当需要一个对象去贯穿整个系统执行某些任务时，单例模式就派上了用场。而除此之外的场景尽量避免单例模式的使用，因为单例模式会引入全局状态，而一个健康的系统应该避免引入过多的全局状态。
    </p>
    <p>实现单例模式需要解决的问题？</p>
    <ul>
        <li>如何确定class只有一个实例</li>
        <li>如何简单的访问class的唯一实例</li>
        <li>class如何控制实例化的过程</li>
        <li>如何将class的实例个数限制为1</li>
    </ul>
    <p>解决</p>
    <ul>
        <li>隐藏class的构造函数，避免多次实例化</li>
        <li>通过暴露一个getInstance的方法来创建唯一实例</li>
    </ul>
</body>
<script>
    const FooserviceSingleton=(function(){
        function FooService(){
            this.name='ppghj'
            this.age='nihao '
            this.say=function(){
                console.log(this.name+'-'+this.age)
            }
        }
        let fooService
        return {
            getInstance:function(){
                if(!fooService){
                    fooService=new FooService()
                }
                return fooService
            }
        }
    })()
    const fooService1=FooserviceSingleton.getInstance()
    const fooService2=FooserviceSingleton.getInstance()
    console.log(fooService1)
    fooService1.say()
    console.log(fooService1===fooService2)
</script>
</html>