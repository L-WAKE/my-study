<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 输出题

        function chack(age) {
            if (age < 18) {
                const msg = "yes"
            } else {
                const msg = "error"
            }
            return msg
        }
        // console.log(chack(21))


        const person = {
            name: "jack",
            age: 21
        }
        // let city = person.city //const类型只能访问 不能修改
        // city = "admini"
        // person.__proto__.city = "重庆" //可以通过__proto__隐式属性添加
        // person.city = "重庆"
        // console.log(person)


        function sayHiJack() {
            return `Hi there,${arguments[0]}` // 虚参没传就是arguments[下标]
        }
        // console.log(sayHiJack("jack"))  //Hi there,jack


        function sayHiName(name) {
            return `Hi there,${name}` // 实参没传就是undefined
        }
        // console.log(sayHiName()) //Hi there,undefined


        const add = () => {
            const cache = {};
            return num => {
                if (num in cache) {
                    return `From cache! ${cache[num]}`;
                } else {
                    const result = num + 10; //20
                    cache[num] = result;
                    return `Calculated! ${result}`;
                }
            };
        };
        const addFunction = add();
        // console.log(addFunction(10));//Calculated! 20
        // console.log(addFunction(10));//From cache! 20
        // console.log(addFunction(5 * 2));//From cache! 20


        class Person {
            constructor(name) {
                this.name = name
            }
        }
        const memeber = new Person('john')
        // console.log(typeof memeber)     //object


        const { mingzi: myName } = { mingzi: "Lydia" };
        // console.log(mingzi);// undefined


        function addToList(item, list) {
            return list.push(item);
        }
        const result = addToList("apple", ["banana"]);
        // console.log(result);        //2    push返回的是数组的长度


        async function getData() {
            return await new Promise((resolve, reject) => {
                resolve('I made it!')
            }).then(x => {
                // console.log(x)  //I made it!
            });
        }
        const data = getData();
        // console.log(data);      //Promise {<pending>}


        let str1 = 'abc'
        let list = []
        // console.log(str1.padStart(5, 'p'))  //ppabc  第一个参数是组合后的字符串长度  第二个参数是需要填充的字符
        // console.log(str1.padEnd(5, 'p'))    //abcpp
        for (let i = 1; i <= 12; i++) {
            list.push((i + '').padStart(2, '0'))
        }
        // console.log(list)   //["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]


        // console.log(Number(2) === Number(2))            //true
        // console.log(Boolean(false) === Boolean(false))  //true
        // console.log(Symbol('foo') === Symbol('foo'))    //false   Symbol唯一性

        let arr2 = [1, 2, 3, 3, 2, 4]
        let sum = arr2.reduce((prev, cur) => prev + cur);
        // console.log(sum)

        let max = arr2.reduce((prev, cur) => Math.max(prev, cur));
        // console.log(max)

        let setNew = arr2.reduce(function (prev, cur) {
            prev.indexOf(cur) === -1 && prev.push(cur)
            return prev
        }, [])
        // console.log(setNew)

        let newSet = Array.from(new Set(arr2))
        // console.log(newSet)


        let value2 = { number: 20 }
        let newVal = { ...value2 }
        // console.log(newVal)

        const value = { number: 10 };
        const multiply = (x = { ...value }) => {
            // console.log(x.number *= 2);
        };
        multiply();         //20
        multiply();         //20
        multiply(value);    //20
        multiply(value);    //40


        let num = 10;
        const increaseNumber = () => ++num;                 //num++  和  ++num  取得值不一样
        const increasePassedNumber = number => ++number;
        const num1 = increaseNumber();
        const num2 = increasePassedNumber(num1);
        // console.log(num1);
        // console.log(num2);


        var o = {}; // 创建一个新对象
        Object.defineProperty(o, 'a', {
            value: 37,
            writable: true//为true时才能进行修改  false不能修改
        });
        // console.log(o.a); // logs 37
        o.a = 25;
        // console.log(o.a); // logs 25.


        const numbers = [1, 2, 3, 4, 5];
        const [y] = numbers;//解构赋值  [y] = [1, 2, 3, 4, 5]
        // console.log(y);     //1


        class Dog {
            constructor(name) {
                this.name = name;
            }
        }
        Dog.prototype.bark = function () {
            console.log(`Woof I am ${this.name}`);
        };
        const pet = new Dog("Mara");
        // pet.bark();
        delete Dog.prototype.bark;
        // pet.bark();         //TypeError


        let newList = [1, 2, 3].push(4) //4   push 返回数组的长度
        // console.log(newList.push(5))    //TypeError  报错


        function Car() {
            this.make = "Lamborghini";
            return { make: "Maserati" };
        }
        const myCar = new Car();
        // console.log(myCar.make);//Maserati       //返回属性的时候 属性的值等于返回的值


        function greeting() {
            throw "Hello world!";   //自定义抛出的错误信息
        }
        function sayHi2() {
            try {
                const data = greeting();
                console.log("It worked!", data);
            } catch (e) {
                console.log("Oh no an error:", e);  //Oh no an error:Hello world!
            }
        }
        // sayHi2();


        let retur = [1, 2, 3].map(num => {
            if (typeof num === "number") return;
            return num * 2;
        });
        // console.log(retur) //[undefined, undefined, undefined]



        const person2 = {
            name: "Lydia",
            age: 21
        }
        // console.log(Object.values(person2))  //["Lydia",21]
        // console.log(Object.keys(person2))  //["name","age"]
        // console.log(Object.entries(person2))            //[['name'，'Lydia']，['age'，21]]
        for (const [x, y] of Object.entries(person2)) {
            // console.log(x, y)                           //name Lydia    age 21
        }


        function getItems(fruitList, favoriteFruit, ...args) {  //只能作为最后一个参数
            return [...fruitList, ...args, favoriteFruit]
        }
        // console.log(getItems(["banana", "apple"], "pear", "orange"))    //["banana", "apple", "orange", "pear"]


        const info = {
            [Symbol('a')]: 'b'
        }
        // console.log(info)               //{Symbol(a): "b"}
        // console.log(Object.keys(info))  //[]  
        // Symbol类型是不可枚举的。Object.keys方法返回对象上的所有可枚举的键属性。Symbol类型是不可见的，并返回一个空数组。


        const getList = ([x, ...y]) => [x, y]
        const list3 = [1, 2, 3, 4]
        // console.log(getList(list3))     // [1,[2,3,4]]
        const getUser = user => ({ name: user.name, age: user.age })
        /*
            对于箭头函数，如果只返回一个值，我们不必编写花括号。但是，如果您想从一个箭头函数返回一个对象，
            必须在圆括号之间编写它，否则不会返回任何值!下面的函数将返回一个对象
        */
        const user = { name: "Lydia", age: 21 }
        // console.log(getUser(user))


        const output = `${[] && 'Im'}possible! should${'' && `n't`} see a therapist after so much JavaScript lol`
        // console.log(output)
        /*
            []是一个真值。使用&&运算符，如果左侧值是真值，则返回右侧值。在这种情况下，左侧值[]是一个真值，所以返回Im。
            ""是一个假值。如果左侧值是假的，则不返回任何内容。n't不会被展示。
        */


        const one = (false || {} || null)
        const two = (null || false || "")
        const three = ([] || 0 || true)
        // console.log(one, two, three)        // {}  ""   []
        /*
            使用||运算符，我们可以返回第一个真值。如果所有值都是假值，则返回最后一个值。
            (false || {} || null）：空对象{}是一个真值。这是第一个（也是唯一的）真值，它将被返回。one等于{}。
            (null || false ||“”）：所有值都是假值。这意味着返回传递的值""。two等于""。
            ([] || 0 ||“”）：空数组[]是一个真值。这是第一个返回的真值。three等于[]
        */


        const obje = {
            name: "Lydia",
            age: 21
        };
        for (const index in obje) {
            // console.log(index);         //name age
        }


        let object1 = { name: "Lydia" };
        const members = [object1];
        object1 = null;
        // console.log(members);   //[{ name: "Lydia" }]


        var p1 = new Promise(function (resolve, reject) {
            setTimeout(resolve, 500, "one");
        });
        var p2 = new Promise(function (resolve, reject) {
            setTimeout(resolve, 100, "two");
        });
        Promise.race([p1, p2]).then(function (value) {
            // console.log(value); // "two"                // 两个都完成，但 p2 更快
        });


        function* generator(i) {
            yield i;
            yield i * 2;
        }
        const gen = generator(10);
        // console.log(gen.next().value);  //10
        // console.log(gen.next().value);  //20


        // console.log([...'Lydia'])   //["L", "y", "d", "i", "a"]


        // console.log(setInterval(() => console.log('Hi'), 1000))  //3  Hi 每隔一秒打印一次
        //setInterval 方法的返回值是一个唯一的id


        let consum = [[0, 1], [2, 3]].reduce(
            (acc, cur) => {
                return acc.concat(cur)
            },
            [1, 2]
        )
        // console.log(consum)     //[1, 2, 0, 1, 2, 3]


        const numbers2 = [1, 2, 3]
        numbers2[10] = 11
        // console.log(numbers2)   //[1, 2, 3, 7 x empty, 11]


        // console.log(typeof typeof 1)    // string   -----    typeof 1 返回"number" ----  typeof "number" 返回 string


        function sayHi3() {
            return (() => '2')()
        }
        // console.log(typeof sayHi3())        //string


        const personobj = { name: 'Lydia' }
        function sayHi(age, sex) {
            console.log(`${this.name} is ${age} ，${sex}生`)
        }
        // sayHi.bind(personobj, 21,'男')()     // bind 需要加小括号运行
        // sayHi.apply(personobj, [21,'女'])    // apply 参数是数组
        // sayHi.call(personobj, 21, '男')       // call 参数是列表


        function getAge(...args) {
            console.log(args)           //[21, 22]
            console.log(typeof args)    //object    数组的类型是对象
        }
        // getAge(21, 22)


        function checkAge(data) {
            if (data === { age: 18 }) {
                console.log('You are an adult!')
            } else if (data == { age: 18 }) {
                console.log('You are still an adult.')
            } else {
                console.log(`Hmm.. You don't have an age I guess`)
            }
        }
        // checkAge({ age: 18 })  // false
        // {}=={}  false  []==[]  false


        function getPersonInfo(one, two, three) {
            console.log(one)        //['','is','years old']
            console.log(two)        //'Lydia'
            console.log(three)      //21
        }
        const name2 = 'Lydia'
        const age2 = 21
        // getPersonInfo`${name2}is${age2}years old`
        /*
            如果使用标记模板字面量，第一个参数的值总是包含字符串的数组
            其余的参数获取的是传递的表达式的值
        */


        let test = 0
        // console.log(test++)
        // console.log(++test)
        // console.log(test)


        function Person8(firstName, lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }
        const member8 = new Person8("Lydia", "Hallie");
        Person8.prototype.getFullName = function () {       //给构造函数添加属性或者方法时必须通过原型(prototype)
            return `${this.firstName} ${this.lastName}`;
        }
        // console.log(member8.getFullName()); //Lydia  Hallie


        let c = { greeting: 'Hey!' }
        let d
        d = c
        c.greeting = 'Hello'
        // console.log(d.greeting) // Hello  拷贝了引用 相互改变


        let arrAdd1 = [1, 3]
        let arrAdd2 = [2, 5]
        // console.log(arrAdd1 + arrAdd2)  // 1,32,5

        function Foo() {
            Foo.a = function () {
                console.log(1)
            }
            this.a = function () {
                console.log(2)
            }
        }
        Foo.prototype.a = function () {
            console.log(3)
        }
        Foo.a = function () {
            console.log(4)
        }
        // Foo.a();
        // let objFoo = new Foo();
        // objFoo.a();
        // Foo.a();


        function changeObjProperty(o) {
            o.siteUrl = "http://www.baidu.com"
            o = new Object()
            o.siteUrl = "http://www.google.com"
        }
        let webSite = new Object();
        changeObjProperty(webSite);
        // console.log(webSite.siteUrl);


    </script>
</body>

</html>